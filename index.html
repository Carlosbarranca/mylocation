<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Captura de ubicaciÃ³n</title>
</head>
<body>
  <h2>ğŸ“ Captura de UbicaciÃ³n</h2>
  <p>Haz clic en el botÃ³n para registrar tu ubicaciÃ³n.</p>
  <button onclick="getLocation()">Enviar ubicaciÃ³n</button>

  <script>
    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(success, error, { enableHighAccuracy: true });
      } else {
        alert("La geolocalizaciÃ³n no es soportada por este navegador.");
      }
    }

    function success(pos) {
      fetch("https://hook.us1.make.com/7u1g4v8otjw7i3w19v0jcls87g68n7cr", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          lat: pos.coords.latitude,
          lon: pos.coords.longitude,
          accuracy: pos.coords.accuracy,
          timestamp: pos.timestamp
        })
      })
      .then(() => alert("âœ… UbicaciÃ³n enviada correctamente"))
      .catch(() => alert("âŒ Error al enviar ubicaciÃ³n"));
    }

    function error(err) {
      alert("No se pudo obtener ubicaciÃ³n: " + err.message);
    }
  </script>
</body>
</html>
